<?xml version="1.0" ?><dmn:definitions xmlns:dmn="http://www.omg.org/spec/DMN/20180521/MODEL/" xmlns="https://kiegroup.org/dmn/_8A641C24-FD0E-4569-BC01-78A8F0901E98" xmlns:di="http://www.omg.org/spec/DMN/20180521/DI/" xmlns:kie="http://www.drools.org/kie/dmn/1.2" xmlns:feel="http://www.omg.org/spec/DMN/20180521/FEEL/" xmlns:dmndi="http://www.omg.org/spec/DMN/20180521/DMNDI/" xmlns:dc="http://www.omg.org/spec/DMN/20180521/DC/" id="_0573F5D0-003B-43DC-A293-D0D900CCA506" name="next-best-action" expressionLanguage="http://www.omg.org/spec/DMN/20180521/FEEL/" typeLanguage="http://www.omg.org/spec/DMN/20180521/FEEL/" namespace="https://kiegroup.org/dmn/_8A641C24-FD0E-4569-BC01-78A8F0901E98"><dmn:extensionElements/><dmn:itemDefinition id="_905C03D8-84C0-4000-8C71-93BC4CA1DE6D" name="tTransaction" isCollection="false"><dmn:itemComponent id="_999A73A7-3FFB-446A-B80D-DBBBEBC10ACC" name="value date" isCollection="false"><dmn:typeRef>date and time</dmn:typeRef></dmn:itemComponent><dmn:itemComponent id="_C8A8FCFC-0AF3-43A0-868B-0B017734AA1E" name="category" isCollection="false"><dmn:typeRef>string</dmn:typeRef></dmn:itemComponent><dmn:itemComponent id="_45C00BE3-C2A7-4964-91BE-693C6028E43B" name="amount" isCollection="false"><dmn:typeRef>number</dmn:typeRef></dmn:itemComponent><dmn:itemComponent id="_0F34D5F9-A9F3-499A-998B-D5DD73CA5CFB" name="balance" isCollection="false"><dmn:typeRef>number</dmn:typeRef></dmn:itemComponent></dmn:itemDefinition><dmn:itemDefinition id="_277DC718-E42C-4845-9A14-E0209C007278" name="tTransactions" isCollection="true"><dmn:typeRef>tTransaction</dmn:typeRef></dmn:itemDefinition><dmn:itemDefinition id="_07D0C14C-2CC8-4B23-BB23-6A17D65D2357" name="tCustomer" isCollection="false"><dmn:itemComponent id="_43D3790A-C8B6-46F9-88F6-1A34A9BE0F78" name="category" isCollection="false"><dmn:typeRef>string</dmn:typeRef></dmn:itemComponent><dmn:itemComponent id="_064A3A23-994C-4496-8A23-DE5939839BC5" name="monthly expense" isCollection="false"><dmn:typeRef>number</dmn:typeRef></dmn:itemComponent><dmn:itemComponent id="_EFFF131A-5356-44F2-83EC-2CC1C33873E5" name="average balance" isCollection="false"><dmn:typeRef>number</dmn:typeRef></dmn:itemComponent></dmn:itemDefinition><dmn:itemDefinition id="_4ED5697B-FE17-4697-84A9-3B8CC4E3DCA1" name="tLoanOffer" isCollection="false"><dmn:itemComponent id="_42D05F24-EA27-46E1-84B7-0556FD231FD2" name="eligible" isCollection="false"><dmn:typeRef>boolean</dmn:typeRef></dmn:itemComponent><dmn:itemComponent id="_42AED93D-8AE7-4534-8A6F-1341028FBD3F" name="suggested amount" isCollection="false"><dmn:typeRef>number</dmn:typeRef></dmn:itemComponent><dmn:itemComponent id="_5A78851D-5D8D-43BC-B725-1F0FB93B676E" name="interest rate" isCollection="false"><dmn:typeRef>number</dmn:typeRef></dmn:itemComponent></dmn:itemDefinition><dmn:inputData id="_33EEB03C-7565-49D2-A1D8-21AC538CB6E5" name="Recent Transactions"><dmn:extensionElements/><dmn:variable id="_8852DAE9-DD29-4D34-A710-0CDFCF8654AE" name="Recent Transactions" typeRef="tTransactions"/></dmn:inputData><dmn:decision id="_AAF1EEFF-0A36-41A3-91DD-FDC0EC87EC16" name="Period Balance"><dmn:extensionElements/><dmn:variable id="_37EB653B-A15A-4FC5-B622-851C105AB7F1" name="Period Balance" typeRef="number"/><dmn:informationRequirement id="_8CE5FD62-18F0-409A-9F91-89C6892537F7"><dmn:requiredInput href="#_33EEB03C-7565-49D2-A1D8-21AC538CB6E5"/></dmn:informationRequirement><dmn:informationRequirement id="_A220D93D-7652-48D9-876D-ECC83533DA9D"><dmn:requiredInput href="#_5895CFDD-3847-47D4-8E01-1F33B256348B"/></dmn:informationRequirement><dmn:literalExpression id="_2A70F5DA-22B3-4D21-95E4-80A526099D27"><dmn:text>sum (Recent Transactions.amount)</dmn:text></dmn:literalExpression></dmn:decision><dmn:inputData id="_5895CFDD-3847-47D4-8E01-1F33B256348B" name="Customer Context"><dmn:extensionElements/><dmn:variable id="_A96D1D7D-D403-459C-8058-2CD5D956B740" name="Customer Context" typeRef="tCustomer"/></dmn:inputData><dmn:decision id="_49057F3A-10FE-4CAA-BA10-96AFFE5CB9F0" name="Spending Propensity"><dmn:extensionElements/><dmn:variable id="_DFE34461-B5F0-4649-9D17-427193F9E6FF" name="Spending Propensity" typeRef="string"/><dmn:informationRequirement id="_E973C7A7-C2A6-463D-9685-31A4D80EC13A"><dmn:requiredInput href="#_5895CFDD-3847-47D4-8E01-1F33B256348B"/></dmn:informationRequirement><dmn:decisionTable id="_D90EAE9B-3F63-42C2-B1B9-121FF3C715C6" hitPolicy="UNIQUE" preferredOrientation="Rule-as-Row"><dmn:input id="_853F1C21-250B-4293-AC93-1DA096093A51"><dmn:inputExpression id="_58CE2AC9-9649-4E37-A24E-E60AEE8BC6FD" typeRef="number"><dmn:text>Customer Context.monthly expense</dmn:text></dmn:inputExpression></dmn:input><dmn:output id="_DBF61D8B-8B39-4BF2-BDD7-20665DD864D8"/><dmn:annotation name="annotation-1"/><dmn:rule id="_F4D74F45-B24A-496C-B90D-7D4E99201D48"><dmn:inputEntry id="_B314F12F-CEA3-469C-BF0E-7813C94ADB77"><dmn:text>&lt; -2000</dmn:text></dmn:inputEntry><dmn:outputEntry id="_45012A39-F6E4-4831-9799-A7F6F12BDFD7"><dmn:text>"high"</dmn:text></dmn:outputEntry><dmn:annotationEntry><dmn:text></dmn:text></dmn:annotationEntry></dmn:rule><dmn:rule id="_E5A12AF2-298D-4A23-8785-6CC84DF6E3FF"><dmn:inputEntry id="_A7BBE4EA-3CB5-4359-BFB5-A3FF39633A61"><dmn:text>[-2000 .. -1300]</dmn:text></dmn:inputEntry><dmn:outputEntry id="_3533AAE2-8C0F-4CDE-8039-518196B9B978"><dmn:text>"medium"</dmn:text></dmn:outputEntry><dmn:annotationEntry><dmn:text></dmn:text></dmn:annotationEntry></dmn:rule><dmn:rule id="_97885145-9529-46A9-8871-BECD26D0D61B"><dmn:inputEntry id="_D13157BC-47C4-4360-984A-FBF4A734F0E0"><dmn:text>&gt; -1300</dmn:text></dmn:inputEntry><dmn:outputEntry id="_99DBDE57-437F-4A7C-9400-AF8509CFDC1D"><dmn:text>"low"</dmn:text></dmn:outputEntry><dmn:annotationEntry><dmn:text></dmn:text></dmn:annotationEntry></dmn:rule></dmn:decisionTable></dmn:decision><dmn:decision id="_FCCBE843-C0CA-4C79-99A5-C225CFC073EC" name="Loan Offer"><dmn:extensionElements/><dmn:variable id="_C46F7AFF-4101-4A56-9A46-B960663FDF41" name="Loan Offer" typeRef="tLoanOffer"/><dmn:informationRequirement id="_ABF0E35A-6D24-498D-8097-407AB85D78C6"><dmn:requiredDecision href="#_AAF1EEFF-0A36-41A3-91DD-FDC0EC87EC16"/></dmn:informationRequirement><dmn:informationRequirement id="_C5E79F6E-BA5E-429D-B830-42FF12882955"><dmn:requiredInput href="#_5895CFDD-3847-47D4-8E01-1F33B256348B"/></dmn:informationRequirement><dmn:informationRequirement id="_F8A13844-039A-46C6-9CBD-22920D2862D7"><dmn:requiredDecision href="#_49057F3A-10FE-4CAA-BA10-96AFFE5CB9F0"/></dmn:informationRequirement><dmn:informationRequirement id="_DC6896A0-FE9C-44EA-8E85-BA9A4CAE76F1"><dmn:requiredDecision href="#_3FAD0F77-B046-42DF-BC95-0282FE86BACA"/></dmn:informationRequirement><dmn:context id="_457B7298-E736-4E80-8666-039C49DB965E"><dmn:contextEntry><dmn:variable id="_A8CB8EB5-EEB2-4084-B461-E7D726CD9BE8" name="eligible" typeRef="boolean"/><dmn:literalExpression id="_D83A064E-07E0-4ECB-8AD3-003BDC9772B0"><dmn:text>Period Balance &lt; Customer Context.monthly expense and
Available Balance &lt; Customer Context.average balance</dmn:text></dmn:literalExpression></dmn:contextEntry><dmn:contextEntry><dmn:variable id="_48A0B4E9-37AC-4EC7-ADE0-816AFDD7FCBB" name="suggested amount" typeRef="number"/><dmn:decisionTable id="_53FFF5F9-A810-41D5-B3A1-1A06061D953F" hitPolicy="UNIQUE" preferredOrientation="Rule-as-Row"><dmn:input id="_23D5F22F-817B-4B10-8610-7D6E96421A76"><dmn:inputExpression id="_2FB8F92C-0836-401B-A691-5042F6556A0F" typeRef="string"><dmn:text>Spending Propensity</dmn:text></dmn:inputExpression></dmn:input><dmn:input id="_6DE6FB6A-9C07-4844-895B-22292AB49219"><dmn:inputExpression id="_1539295F-4353-431E-805E-745676769442" typeRef="string"><dmn:text>Customer Context.category</dmn:text></dmn:inputExpression></dmn:input><dmn:output id="_5EDA1BD6-E4D2-416C-A7A4-B8AD9F13C651"><dmn:defaultOutputEntry id="_CE63C02B-AD49-499D-8100-B77C5CB9775C"><dmn:text>5000</dmn:text></dmn:defaultOutputEntry></dmn:output><dmn:annotation name="note"/><dmn:rule id="_DA3228F1-3A5F-41A5-A845-97A3C72D99A1"><dmn:inputEntry id="_040128C9-2990-4FF6-9B8A-E9068AFC92F4"><dmn:text>"high"</dmn:text></dmn:inputEntry><dmn:inputEntry id="_82A434C9-7E0A-4881-A94F-83CF5DE6D674"><dmn:text>"gold"</dmn:text></dmn:inputEntry><dmn:outputEntry id="_FE5247D8-95F1-48DD-B2FA-3ED75A28B310"><dmn:text>15000</dmn:text></dmn:outputEntry><dmn:annotationEntry><dmn:text></dmn:text></dmn:annotationEntry></dmn:rule><dmn:rule id="_795684F6-2BAB-47B3-BA37-6B644629D72A"><dmn:inputEntry id="_6F3EB03E-CD00-4EF0-855E-262DA00241F9"><dmn:text>"medium"</dmn:text></dmn:inputEntry><dmn:inputEntry id="_214DF6BD-8D88-494F-A684-3B9480C93BF8"><dmn:text>"gold"</dmn:text></dmn:inputEntry><dmn:outputEntry id="_AD05BA4B-BCF1-48DF-A43D-17A76AEA26CE"><dmn:text>10000</dmn:text></dmn:outputEntry><dmn:annotationEntry><dmn:text></dmn:text></dmn:annotationEntry></dmn:rule><dmn:rule id="_BB5359DF-5773-4FE3-A608-A9FBD032518D"><dmn:inputEntry id="_5097ECDD-CE9A-4998-91E6-966B0382E5B4"><dmn:text>"high"</dmn:text></dmn:inputEntry><dmn:inputEntry id="_FDE79814-E6DC-4071-8C3C-18D8622F0F26"><dmn:text>"silver"</dmn:text></dmn:inputEntry><dmn:outputEntry id="_FD3EDDD0-3D7F-4575-BB95-98A4C8A453BC"><dmn:text>8000</dmn:text></dmn:outputEntry><dmn:annotationEntry><dmn:text></dmn:text></dmn:annotationEntry></dmn:rule></dmn:decisionTable></dmn:contextEntry><dmn:contextEntry><dmn:variable id="_587F3775-F598-4D88-8FA8-653406C9CAFD" name="interest rate" typeRef="number"/><dmn:decisionTable id="_898A3A4D-78B7-44A4-9DB2-4CC3256BB1D0" hitPolicy="UNIQUE" preferredOrientation="Rule-as-Row"><dmn:input id="_0AFE150B-4F30-4352-87B0-3A23AACA945A"><dmn:inputExpression id="_91AB28FC-8550-4448-AB4B-1FCA65B38A95" typeRef="string"><dmn:text>Customer Context.category</dmn:text></dmn:inputExpression></dmn:input><dmn:output id="_BF450107-BD8F-445E-A148-AC5567B87D09"/><dmn:annotation name="note"/><dmn:rule id="_4C2FA5EB-11E3-4B05-A548-1709C5B49341"><dmn:inputEntry id="_6F09FEDA-163F-4A84-8FF3-458B4189437C"><dmn:text>"gold"</dmn:text></dmn:inputEntry><dmn:outputEntry id="_E641F7DE-4BAE-481D-A96E-8FC89F2C6A80"><dmn:text>4.5</dmn:text></dmn:outputEntry><dmn:annotationEntry><dmn:text></dmn:text></dmn:annotationEntry></dmn:rule><dmn:rule id="_DF455EF7-87A4-442B-B48A-452931829BB5"><dmn:inputEntry id="_12462A51-0D76-49CD-AC93-053DAA82D2E2"><dmn:text>"silver"</dmn:text></dmn:inputEntry><dmn:outputEntry id="_EBCD44F5-22F5-48DC-B652-F6CC469A536D"><dmn:text>5</dmn:text></dmn:outputEntry><dmn:annotationEntry><dmn:text></dmn:text></dmn:annotationEntry></dmn:rule><dmn:rule id="_7ADE2168-5697-4D46-AA05-CD49695EB8FA"><dmn:inputEntry id="_D11D7EC3-6DDD-4376-9C0C-891FC906A1ED"><dmn:text>"bronze"</dmn:text></dmn:inputEntry><dmn:outputEntry id="_F3F62E10-E42F-4891-BF51-FF811558A8D1"><dmn:text>5.5</dmn:text></dmn:outputEntry><dmn:annotationEntry><dmn:text></dmn:text></dmn:annotationEntry></dmn:rule></dmn:decisionTable></dmn:contextEntry></dmn:context></dmn:decision><dmn:decision id="_3FAD0F77-B046-42DF-BC95-0282FE86BACA" name="Available Balance"><dmn:extensionElements/><dmn:variable id="_71FE1AA5-18E5-4F1B-914C-43259CD99D40" name="Available Balance" typeRef="number"/><dmn:informationRequirement id="_49F88A9D-2B0C-4A22-A356-2A22E8C332FE"><dmn:requiredInput href="#_33EEB03C-7565-49D2-A1D8-21AC538CB6E5"/></dmn:informationRequirement><dmn:literalExpression id="_40AAF17A-DD4F-4D8A-BB6B-0A58D1D00FA8"><dmn:text>Recent Transactions[value date = max( Recent Transactions.value date )].balance</dmn:text></dmn:literalExpression></dmn:decision><dmndi:DMNDI><dmndi:DMNDiagram id="_01EEADA1-C61A-4F92-A920-A61BF369C623" name="DRG"><di:extension><kie:ComponentsWidthsExtension><kie:ComponentWidths dmnElementRef="_2A70F5DA-22B3-4D21-95E4-80A526099D27"><kie:width>300</kie:width></kie:ComponentWidths><kie:ComponentWidths dmnElementRef="_D90EAE9B-3F63-42C2-B1B9-121FF3C715C6"><kie:width>50</kie:width><kie:width>281</kie:width><kie:width>163</kie:width><kie:width>100</kie:width></kie:ComponentWidths><kie:ComponentWidths dmnElementRef="_457B7298-E736-4E80-8666-039C49DB965E"><kie:width>50</kie:width><kie:width>132</kie:width><kie:width>755</kie:width></kie:ComponentWidths><kie:ComponentWidths dmnElementRef="_D83A064E-07E0-4ECB-8AD3-003BDC9772B0"><kie:width>755</kie:width></kie:ComponentWidths><kie:ComponentWidths dmnElementRef="_53FFF5F9-A810-41D5-B3A1-1A06061D953F"><kie:width>50</kie:width><kie:width>212</kie:width><kie:width>203</kie:width><kie:width>151</kie:width><kie:width>119</kie:width></kie:ComponentWidths><kie:ComponentWidths dmnElementRef="_898A3A4D-78B7-44A4-9DB2-4CC3256BB1D0"><kie:width>50</kie:width><kie:width>211</kie:width><kie:width>194</kie:width><kie:width>280</kie:width></kie:ComponentWidths><kie:ComponentWidths dmnElementRef="_40AAF17A-DD4F-4D8A-BB6B-0A58D1D00FA8"><kie:width>671</kie:width></kie:ComponentWidths></kie:ComponentsWidthsExtension></di:extension><dmndi:DMNShape id="dmnshape-drg-_33EEB03C-7565-49D2-A1D8-21AC538CB6E5" dmnElementRef="_33EEB03C-7565-49D2-A1D8-21AC538CB6E5" isCollapsed="false"><dmndi:DMNStyle><dmndi:FillColor red="255" green="255" blue="255"/><dmndi:StrokeColor red="0" green="0" blue="0"/><dmndi:FontColor red="0" green="0" blue="0"/></dmndi:DMNStyle><dc:Bounds x="321" y="453" width="100" height="50"/><dmndi:DMNLabel/></dmndi:DMNShape><dmndi:DMNShape id="dmnshape-drg-_AAF1EEFF-0A36-41A3-91DD-FDC0EC87EC16" dmnElementRef="_AAF1EEFF-0A36-41A3-91DD-FDC0EC87EC16" isCollapsed="false"><dmndi:DMNStyle><dmndi:FillColor red="255" green="255" blue="255"/><dmndi:StrokeColor red="0" green="0" blue="0"/><dmndi:FontColor red="0" green="0" blue="0"/></dmndi:DMNStyle><dc:Bounds x="371" y="301" width="100" height="50"/><dmndi:DMNLabel/></dmndi:DMNShape><dmndi:DMNShape id="dmnshape-drg-_5895CFDD-3847-47D4-8E01-1F33B256348B" dmnElementRef="_5895CFDD-3847-47D4-8E01-1F33B256348B" isCollapsed="false"><dmndi:DMNStyle><dmndi:FillColor red="255" green="255" blue="255"/><dmndi:StrokeColor red="0" green="0" blue="0"/><dmndi:FontColor red="0" green="0" blue="0"/></dmndi:DMNStyle><dc:Bounds x="536" y="453" width="100" height="50"/><dmndi:DMNLabel/></dmndi:DMNShape><dmndi:DMNShape id="dmnshape-drg-_49057F3A-10FE-4CAA-BA10-96AFFE5CB9F0" dmnElementRef="_49057F3A-10FE-4CAA-BA10-96AFFE5CB9F0" isCollapsed="false"><dmndi:DMNStyle><dmndi:FillColor red="255" green="255" blue="255"/><dmndi:StrokeColor red="0" green="0" blue="0"/><dmndi:FontColor red="0" green="0" blue="0"/></dmndi:DMNStyle><dc:Bounds x="589" y="301" width="100" height="50"/><dmndi:DMNLabel/></dmndi:DMNShape><dmndi:DMNShape id="dmnshape-drg-_FCCBE843-C0CA-4C79-99A5-C225CFC073EC" dmnElementRef="_FCCBE843-C0CA-4C79-99A5-C225CFC073EC" isCollapsed="false"><dmndi:DMNStyle><dmndi:FillColor red="255" green="255" blue="255"/><dmndi:StrokeColor red="0" green="0" blue="0"/><dmndi:FontColor red="0" green="0" blue="0"/></dmndi:DMNStyle><dc:Bounds x="406" y="149" width="100" height="50"/><dmndi:DMNLabel/></dmndi:DMNShape><dmndi:DMNShape id="dmnshape-drg-_3FAD0F77-B046-42DF-BC95-0282FE86BACA" dmnElementRef="_3FAD0F77-B046-42DF-BC95-0282FE86BACA" isCollapsed="false"><dmndi:DMNStyle><dmndi:FillColor red="255" green="255" blue="255"/><dmndi:StrokeColor red="0" green="0" blue="0"/><dmndi:FontColor red="0" green="0" blue="0"/></dmndi:DMNStyle><dc:Bounds x="199" y="301" width="100" height="50"/><dmndi:DMNLabel/></dmndi:DMNShape><dmndi:DMNEdge id="dmnedge-drg-_8CE5FD62-18F0-409A-9F91-89C6892537F7" dmnElementRef="_8CE5FD62-18F0-409A-9F91-89C6892537F7"><di:waypoint x="421" y="478"/><di:waypoint x="371" y="326"/></dmndi:DMNEdge><dmndi:DMNEdge id="dmnedge-drg-_A220D93D-7652-48D9-876D-ECC83533DA9D" dmnElementRef="_A220D93D-7652-48D9-876D-ECC83533DA9D"><di:waypoint x="586" y="478"/><di:waypoint x="421" y="326"/></dmndi:DMNEdge><dmndi:DMNEdge id="dmnedge-drg-_E973C7A7-C2A6-463D-9685-31A4D80EC13A" dmnElementRef="_E973C7A7-C2A6-463D-9685-31A4D80EC13A"><di:waypoint x="586" y="478"/><di:waypoint x="639" y="351"/></dmndi:DMNEdge><dmndi:DMNEdge id="dmnedge-drg-_ABF0E35A-6D24-498D-8097-407AB85D78C6" dmnElementRef="_ABF0E35A-6D24-498D-8097-407AB85D78C6"><di:waypoint x="421" y="326"/><di:waypoint x="456" y="149"/></dmndi:DMNEdge><dmndi:DMNEdge id="dmnedge-drg-_C5E79F6E-BA5E-429D-B830-42FF12882955" dmnElementRef="_C5E79F6E-BA5E-429D-B830-42FF12882955"><di:waypoint x="586" y="478"/><di:waypoint x="456" y="199"/></dmndi:DMNEdge><dmndi:DMNEdge id="dmnedge-drg-_F8A13844-039A-46C6-9CBD-22920D2862D7" dmnElementRef="_F8A13844-039A-46C6-9CBD-22920D2862D7"><di:waypoint x="639" y="326"/><di:waypoint x="456" y="174"/></dmndi:DMNEdge><dmndi:DMNEdge id="dmnedge-drg-_DC6896A0-FE9C-44EA-8E85-BA9A4CAE76F1" dmnElementRef="_DC6896A0-FE9C-44EA-8E85-BA9A4CAE76F1"><di:waypoint x="249" y="326"/><di:waypoint x="456" y="174"/></dmndi:DMNEdge><dmndi:DMNEdge id="dmnedge-drg-_49F88A9D-2B0C-4A22-A356-2A22E8C332FE" dmnElementRef="_49F88A9D-2B0C-4A22-A356-2A22E8C332FE"><di:waypoint x="371" y="453"/><di:waypoint x="249" y="351"/></dmndi:DMNEdge></dmndi:DMNDiagram></dmndi:DMNDI></dmn:definitions>